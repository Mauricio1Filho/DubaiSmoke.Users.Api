Ë
/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/AutoMapper/Profiles/DomainToViewModelProfile.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (

AutoMapper( 2
.2 3
Profiles3 ;
{ 
[ #
ExcludeFromCodeCoverage 
] 
public		 

class		 $
DomainToViewModelProfile		 )
:		* +
Profile		, 3
{

 
public $
DomainToViewModelProfile '
(' (
)( )
{ 	
	CreateMap 
< 

UserEntity  
,  !
UserViewModel" /
>/ 0
(0 1
)1 2
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
birthDay( 0
,0 1
opt2 5
=>6 8
opt9 <
.< =
MapFrom= D
(D E
srcE H
=>I K
srcL O
.O P
BirthDayP X
.X Y
ToStringY a
(a b
$strb n
)n o
)o p
)p q
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
id( *
,* +
opt, /
=>0 2
opt3 6
.6 7
MapFrom7 >
(> ?
src? B
=>C E
srcF I
.I J
IdJ L
)L M
)M N
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
login( -
,- .
opt/ 2
=>3 5
opt6 9
.9 :
MapFrom: A
(A B
srcB E
=>F H
srcI L
.L M
LoginM R
)R S
)S T
. 
	ForMember 
( 
dest 
=>  "
dest# '
.' (
name( ,
,, -
opt. 1
=>2 4
opt5 8
.8 9
MapFrom9 @
(@ A
srcA D
=>E G
srcH K
.K L
NameL P
)P Q
)Q R
;R S
	CreateMap 
< 
AddressEntity #
,# $
AddressViewModel% 5
>5 6
(6 7
)7 8
;8 9
	CreateMap 
< 
ContactEntity #
,# $
ContactViewModel% 5
>5 6
(6 7
)7 8
;8 9
	CreateMap 
< 
ContactTypeEntity '
,' ( 
ContactTypeViewModel) =
>= >
(> ?
)? @
;@ A
} 	
} 
} ó
/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/AutoMapper/Profiles/ViewModelToDomainProfile.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (

AutoMapper( 2
.2 3
Profiles3 ;
{ 
[ #
ExcludeFromCodeCoverage 
] 
public		 

class		 $
ViewModelToDomainProfile		 )
:		* +
Profile		, 3
{

 
public $
ViewModelToDomainProfile '
(' (
)( )
{ 	
	CreateMap 
< 
UserViewModel #
,# $

UserEntity% /
>/ 0
(0 1
)1 2
;2 3
	CreateMap 
<  
UserPayloadViewModel *
,* +

UserEntity, 6
>6 7
(7 8
)8 9
;9 :
	CreateMap 
< 
AddressViewModel &
,& '
AddressEntity( 5
>5 6
(6 7
)7 8
;8 9
	CreateMap 
< #
AddressPayloadViewModel -
,- .
AddressEntity/ <
>< =
(= >
)> ?
;? @
	CreateMap 
< 
ContactViewModel &
,& '
ContactEntity( 5
>5 6
(6 7
)7 8
;8 9
	CreateMap 
< #
ContactPayloadViewModel -
,- .
ContactEntity/ <
>< =
(= >
)> ?
;? @
	CreateMap 
< '
ContactTypePayloadViewModel 1
,1 2
ContactTypeEntity3 D
>D E
(E F
)F G
;G H
	CreateMap 
<  
ContactTypeViewModel *
,* +
ContactTypeEntity, =
>= >
(> ?
)? @
;@ A
} 	
} 
} Õ
j/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/Configuration/DbMapping.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
Configuration( 5
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

static 
class 
	DbMapping !
{		 
public

 
static

 
void

 
InitializeMapping

 ,
(

, -
)

- .
{ 	
FluentMapper 
. 

Initialize #
(# $
config$ *
=>+ -
{ 
config 
. 
AddMap 
( 
new !
UserMap" )
() *
)* +
)+ ,
;, -
config 
. 
AddMap 
( 
new !

AddressMap" ,
(, -
)- .
). /
;/ 0
config 
. 
AddMap 
( 
new !

ContactMap" ,
(, -
)- .
). /
;/ 0
config 
. 
AddMap 
( 
new !
ContactTypeMap" 0
(0 1
)1 2
)2 3
;3 4
} 
) 
; 
} 	
} 
} Î
z/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/DependencyInjection/ConfigureRepository.cs
	namespace		 	

DubaiSmoke		
 
.		 
Users		 
.		 
CrossCutting		 '
.		' (
DependencyInjection		( ;
{

 
[ #
ExcludeFromCodeCoverage 
] 
public 

static 
class 
ConfigureRepository +
{ 
public 
static 
void *
ConfigureDependeciesRepository 9
(9 :
this: >
IServiceCollection? Q
serviceCollectionR c
,c d
IConfiguratione s
configuration	t Å
)
Å Ç
{ 	
serviceCollection 
. 
	AddScoped '
<' (
IUserRepository( 7
,7 8
UserRepository9 G
>G H
(H I
)I J
;J K
serviceCollection 
. 
	AddScoped '
<' (
IAddressRepository( :
,: ;
AddressRepository< M
>M N
(N O
)O P
;P Q
serviceCollection 
. 
	AddScoped '
<' (
IContactRepository( :
,: ;
ContactRepository< M
>M N
(N O
)O P
;P Q
serviceCollection 
. 
	AddScoped '
<' ("
IContactTypeRepository( >
,> ?!
ContactTypeRepository@ U
>U V
(V W
)W X
;X Y
serviceCollection 
. 
	AddScoped '
<' (
IUnitOfWork( 3
,3 4

UnitOfWork5 ?
>? @
(@ A
_A B
=>C E
newF I

UnitOfWorkJ T
(T U
configurationU b
.b c
GetConnectionStringc v
(v w
$str	w Ö
)
Ö Ü
)
Ü á
)
á à
;
à â
} 	
} 
} è
w/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/DependencyInjection/ConfigureService.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
DependencyInjection( ;
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

static 
class 
ConfigureService (
{ 
public 
static 
void (
ConfigureDependeciesServices 7
(7 8
this8 <
IServiceCollection= O
serviceCollectionP a
)a b
{ 	
serviceCollection 
. 
	AddScoped '
<' (
IUserService( 4
,4 5
UserService6 A
>A B
(B C
)C D
;D E
serviceCollection 
. 
	AddScoped '
<' (
IUserServiceApp( 7
,7 8
UserServiceApp9 G
>G H
(H I
)I J
;J K
serviceCollection 
. 
	AddScoped '
<' (
IAddressServiceApp( :
,: ;
AddressServiceApp< M
>M N
(N O
)O P
;P Q
serviceCollection 
. 
	AddScoped '
<' (
IAddressService( 7
,7 8
AddressService9 G
>G H
(H I
)I J
;J K
serviceCollection 
. 
	AddScoped '
<' (
IContactServiceApp( :
,: ;
ContactServiceApp< M
>M N
(N O
)O P
;P Q
serviceCollection 
. 
	AddScoped '
<' (
IContactService( 7
,7 8
ContactService9 G
>G H
(H I
)I J
;J K
serviceCollection 
. 
	AddScoped '
<' ("
IContactTypeServiceApp( >
,> ?!
ContactTypeServiceApp@ U
>U V
(V W
)W X
;X Y
serviceCollection 
. 
	AddScoped '
<' (
IContactTypeService( ;
,; <
ContactTypeService= O
>O P
(P Q
)Q R
;R S
serviceCollection 
. 
	AddScoped '
<' ( 
IHttpContextAccessor( <
,< =
HttpContextAccessor> Q
>Q R
(R S
)S T
;T U
serviceCollection 
. 
	AddScoped '
<' ($
ErrorHandlerNotification( @
>@ A
(A B
)B C
;C D
serviceCollection 
. 
AddAutoMapper +
(+ ,
typeof, 2
(2 3$
DomainToViewModelProfile3 K
)K L
,L M
typeofN T
(T U$
ViewModelToDomainProfileU m
)m n
)n o
;o p
} 	
} 
} å
j/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/DTO/BadResquestResponse.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
DTO( +
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
BadRequestResponse #
{ 
public		 
List		 
<		 
ValidationError		 #
>		# $
_errors		% ,
{		- .
get		/ 2
;		2 3
set		4 7
;		7 8
}		9 :
=		; <
new		= @
List		A E
<		E F
ValidationError		F U
>		U V
(		V W
)		W X
;		X Y
}

 
public 

class 
ValidationError  
{ 
public 
string 
field 
{ 
get !
;! "
set# &
;& '
}( )
public 
List 
< 
string 
> 
messages $
{% &
get' *
;* +
set, /
;/ 0
}1 2
=3 4
new5 8
List9 =
<= >
string> D
>D E
(E F
)F G
;G H
} 
} —
/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/FluentValidation/ValidateModelStateAttribute.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
FluentValidation( 8
{		 
[

 #
ExcludeFromCodeCoverage

 
]

 
public 

class '
ValidateModelStateAttribute ,
:- .!
ActionFilterAttribute/ D
{ 
public 
override 
void 
OnActionExecuting .
(. /"
ActionExecutingContext/ E
contextF M
)M N
{ 	
if 
( 
! 
context 
. 

ModelState #
.# $
IsValid$ +
)+ ,
{ 
var 
response 
= 
new "
BadRequestResponse# 5
(5 6
)6 7
;7 8
foreach 
( 
KeyValuePair %
<% &
string& ,
,, -
ModelStateEntry. =
>= >
modelStateDD? K
inL N
contextO V
.V W

ModelStateW a
)a b
{ 
string 
key 
=  
modelStateDD! -
.- .
Key. 1
;1 2
var 

modelState "
=# $
modelStateDD% 1
.1 2
Value2 7
;7 8
var 
newError  
=! "
new# &
ValidationError' 6
(6 7
)7 8
{ 
field 
= 
key  #
} 
; 
foreach 
( 

ModelError '
error( -
in. 0

modelState1 ;
.; <
Errors< B
)B C
{ 
if 
( 
! 
error "
." #
ErrorMessage# /
./ 0
Equals0 6
(6 7
$str7 :
): ;
); <
newError $
.$ %
messages% -
.- .
Add. 1
(1 2
error2 7
.7 8
ErrorMessage8 D
)D E
;E F
} 
response 
. 
_errors $
.$ %
Add% (
(( )
newError) 1
)1 2
;2 3
}   
context"" 
."" 
Result"" 
=""  
new""! $

JsonResult""% /
(""/ 0
response""0 8
)""8 9
{## 

StatusCode$$ 
=$$  
$num$$! $
}%% 
;%% 
}&& 
}'' 	
}(( 
})) é
e/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/Mapping/AddressMap.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
Mapping( /
{ 
public 

class 

AddressMap 
: 
	EntityMap '
<' (
AddressEntity( 5
>5 6
{ 
[		 	#
ExcludeFromCodeCoverage			  
]		  !
public

 

AddressMap

 
(

 
)

 
{ 	
Map 
( 
m 
=> 
m 
. 
Id 
) 
. 
ToColumn #
(# $
$str$ (
)( )
;) *
Map 
( 
m 
=> 
m 
. 
UserId 
) 
. 
ToColumn '
(' (
$str( 1
)1 2
;2 3
Map 
( 
m 
=> 
m 
. 
AddressName "
)" #
.# $
ToColumn$ ,
(, -
$str- :
): ;
;; <
Map 
( 
m 
=> 
m 
. 
AddressNumber $
)$ %
.% &
ToColumn& .
(. /
$str/ ;
); <
;< =
Map 
( 
m 
=> 
m 
. 
AddressComplement (
)( )
.) *
ToColumn* 2
(2 3
$str3 C
)C D
;D E
Map 
( 
m 
=> 
m 
. 

PostalCode !
)! "
." #
ToColumn# +
(+ ,
$str, =
)= >
;> ?
Map 
( 
m 
=> 
m 
. 
	CreatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	UpdatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	DeletedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
HashCode 
)  
.  !
ToColumn! )
() *
$str* 5
)5 6
;6 7
} 	
} 
} ™
e/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/Mapping/ContactMap.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
Mapping( /
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 

ContactMap 
: 
	EntityMap '
<' (
ContactEntity( 5
>5 6
{		 
public

 

ContactMap

 
(

 
)

 
{ 	
Map 
( 
m 
=> 
m 
. 
Id 
) 
. 
ToColumn #
(# $
$str$ (
)( )
;) *
Map 
( 
m 
=> 
m 
. 
UserId 
) 
. 
ToColumn '
(' (
$str( 1
)1 2
;2 3
Map 
( 
m 
=> 
m 
. 
TypeId 
) 
. 
ToColumn '
(' (
$str( 1
)1 2
;2 3
Map 
( 
m 
=> 
m 
. 
Value 
) 
. 
ToColumn &
(& '
$str' 2
)2 3
;3 4
Map 
( 
m 
=> 
m 
. 
	CreatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	UpdatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	DeletedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
HashCode 
)  
.  !
ToColumn! )
() *
$str* 5
)5 6
;6 7
} 	
} 
} Ò
i/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/Mapping/ContactTypeMap.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
Mapping( /
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
ContactTypeMap 
:  !
	EntityMap" +
<+ ,
ContactTypeEntity, =
>= >
{		 
public

 
ContactTypeMap

 
(

 
)

 
{ 	
Map 
( 
m 
=> 
m 
. 
Id 
) 
. 
ToColumn #
(# $
$str$ (
)( )
;) *
Map 
( 
m 
=> 
m 
. 
Name 
) 
. 
ToColumn %
(% &
$str& 0
)0 1
;1 2
Map 
( 
m 
=> 
m 
. 
	CreatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	UpdatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	DeletedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
HashCode 
)  
.  !
ToColumn! )
() *
$str* 5
)5 6
;6 7
} 	
} 
} Ñ
b/home/nino/Desktop/Repos/DubaiSmoke.Users.Api/src/DubaiSmoke.Users.CrossCutting/Mapping/UserMap.cs
	namespace 	

DubaiSmoke
 
. 
Users 
. 
CrossCutting '
.' (
Mapping( /
{ 
[ #
ExcludeFromCodeCoverage 
] 
public 

class 
UserMap 
: 
	EntityMap $
<$ %

UserEntity% /
>/ 0
{		 
public

 
UserMap

 
(

 
)

 
{ 	
Map 
( 
m 
=> 
m 
. 
Id 
) 
. 
ToColumn #
(# $
$str$ (
)( )
;) *
Map 
( 
m 
=> 
m 
. 
Name 
) 
. 
ToColumn %
(% &
$str& /
)/ 0
;0 1
Map 
( 
m 
=> 
m 
. 
BirthDay 
)  
.  !
ToColumn! )
() *
$str* 4
)4 5
;5 6
Map 
( 
m 
=> 
m 
. 
Login 
) 
. 
ToColumn &
(& '
$str' 2
)2 3
;3 4
Map 
( 
m 
=> 
m 
. 
Password 
)  
.  !
ToColumn! )
() *
$str* 3
)3 4
;4 5
Map 
( 
m 
=> 
m 
. 
	CreatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	UpdatedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
	DeletedAt  
)  !
.! "
ToColumn" *
(* +
$str+ 7
)7 8
;8 9
Map 
( 
m 
=> 
m 
. 
HashCode 
)  
.  !
ToColumn! )
() *
$str* 5
)5 6
;6 7
} 	
} 
} 